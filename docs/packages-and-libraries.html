<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 4 Packages and libraries | DATA ANALYSIS USING STATISTICAL PACKAGES</title>
<meta name="author" content="Dr. Pratheesh P. Gopinath">
<meta name="description" content="4.1 Packages Packages are organised collections of R functions, data, and compiled code. Packages have useful functions to perform specific tasks. Some of the useful packages for agricultural...">
<meta name="generator" content="bookdown 0.40 with bs4_book()">
<meta property="og:title" content="Chapter 4 Packages and libraries | DATA ANALYSIS USING STATISTICAL PACKAGES">
<meta property="og:type" content="book">
<meta property="og:image" content="/images/cover.PNG">
<meta property="og:description" content="4.1 Packages Packages are organised collections of R functions, data, and compiled code. Packages have useful functions to perform specific tasks. Some of the useful packages for agricultural...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 4 Packages and libraries | DATA ANALYSIS USING STATISTICAL PACKAGES">
<meta name="twitter:description" content="4.1 Packages Packages are organised collections of R functions, data, and compiled code. Packages have useful functions to perform specific tasks. Some of the useful packages for agricultural...">
<meta name="twitter:image" content="/images/cover.PNG">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.8.0/transition.js"></script><script src="libs/bs3compat-0.8.0/tabs.js"></script><script src="libs/bs3compat-0.8.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">DATA ANALYSIS USING STATISTICAL PACKAGES</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="preface.html">Preface</a></li>
<li><a class="" href="syllabus.html">Syllabus</a></li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="r-and-r-studio.html"><span class="header-section-number">2</span> R and R studio</a></li>
<li><a class="" href="rbase.html"><span class="header-section-number">3</span> R basics</a></li>
<li><a class="active" href="packages-and-libraries.html"><span class="header-section-number">4</span> Packages and libraries</a></li>
<li><a class="" href="import.html"><span class="header-section-number">5</span> Importing data files</a></li>
<li><a class="" href="dataset.html"><span class="header-section-number">6</span> Datasets in R</a></li>
<li><a class="" href="descriptive-statistics.html"><span class="header-section-number">7</span> Descriptive Statistics</a></li>
<li><a class="" href="graphical-representation.html"><span class="header-section-number">8</span> Graphical Representation</a></li>
<li><a class="" href="time-series-analysis-using-r.html"><span class="header-section-number">9</span> Time series Analysis using R</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="packages-and-libraries" class="section level1" number="4">
<h1>
<span class="header-section-number">4</span> Packages and libraries<a class="anchor" aria-label="anchor" href="#packages-and-libraries"><i class="fas fa-link"></i></a>
</h1>
<div id="packages" class="section level2" number="4.1">
<h2>
<span class="header-section-number">4.1</span> Packages<a class="anchor" aria-label="anchor" href="#packages"><i class="fas fa-link"></i></a>
</h2>
<p>Packages are organised collections of R functions, data, and compiled code. Packages have useful functions to perform specific tasks. Some of the useful packages for agricultural research are <code>agricolae</code>, <code>grapesAgri1</code> etc.<br>
In the R environment, packages are kept in a directory called “library”. R installs a group of packages by default during installation. Only the default packages are initially available once the R console has been launched. The R application that is getting to use other installed packages needs to be explicitly loaded from package library in order to use them.</p>
</div>
<div id="repositories" class="section level2" number="4.2">
<h2>
<span class="header-section-number">4.2</span> Repositories<a class="anchor" aria-label="anchor" href="#repositories"><i class="fas fa-link"></i></a>
</h2>
<p>A repository is where packages are located so that they can be installed from it. Organizations and developers each have their own local repository, which is often online and open to all. The most well-liked R package repositories include: <strong>CRAN</strong>, <strong>BIOCONDUCTOR</strong>, <strong>GITHUB</strong>.</p>
<div id="cran" class="section level3" number="4.2.1">
<h3>
<span class="header-section-number">4.2.1</span> CRAN<a class="anchor" aria-label="anchor" href="#cran"><i class="fas fa-link"></i></a>
</h3>
<p><strong>C</strong>omprehensive <strong>R</strong> <strong>A</strong>rchive <strong>N</strong>etwork(<strong>CRAN</strong>) is the official repository, It is an international network of ftp and web servers run and managed by the R community. It is coordinated by the R community, and before a package can be published in CRAN, it must pass a number of tests to guarantee that it complies with CRAN rules.</p>
</div>
<div id="bioconductor" class="section level3" number="4.2.2">
<h3>
<span class="header-section-number">4.2.2</span> Bioconductor<a class="anchor" aria-label="anchor" href="#bioconductor"><i class="fas fa-link"></i></a>
</h3>
<p>Open source software for bioinformatics is designed for the topic-specific repository known as Bioconductor. In keeping with CRAN, it has its own submission and review procedures, and its community is quite active, holding numerous conferences and meetings each year.</p>
</div>
<div id="github" class="section level3" number="4.2.3">
<h3>
<span class="header-section-number">4.2.3</span> Github<a class="anchor" aria-label="anchor" href="#github"><i class="fas fa-link"></i></a>
</h3>
<p>The most well-known repository for open source projects is Github. Its popularity is due to the unrestricted open source storage space, integration with the version control programme git, and simplicity of sharing and teamwork.</p>
</div>
</div>
<div id="base-packages" class="section level2" number="4.3">
<h2>
<span class="header-section-number">4.3</span> Base packages<a class="anchor" aria-label="anchor" href="#base-packages"><i class="fas fa-link"></i></a>
</h2>
<p>Base packages or standard pacakges come pre-installed with R installations and are regarded as being a part of the R source code. The fundamental R functions are found in base packages, which make it possible to perform common statistical and graphical operations on datasets. Examples of Base packages include <code>stats</code>, <code>graphics</code>, <code>grDevices</code>, <code>utils</code>, <code>datasets</code>, <code>methods</code> and <code>base</code>. The functions available in these Base packages can be used for basic operations on the data set. Some of the functions we have discussed earlier in Section<a href="rbase.html#rbase">3</a>, like <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code>,<code>min</code>, <code>log10</code>,<code>as.data.frame</code> etc.</p>
<p>R is distributed with fifteen “base packages”: <code>base</code>, <code>compiler</code>, <code>datasets</code>, <code>grDevices</code>, <code>graphics</code>, <code>grid</code>, <code>methods</code>, <code>parallel</code>, <code>splines</code>, <code>stats</code>, <code>stats4</code>, <code>tcltk</code>, <code>tools</code>, <code>translations</code>, and <code>utils</code>.</p>
<p>In addition, there are fifteen “recommended packages” from CRAN which are included with binary distributions of R: <code>KernSmooth</code>, <code>MASS</code>, <code>Matrix</code>, <code>boot</code>, <code>class</code>, <code>cluster</code>, <code>codetools</code>, <code>foreign</code>, <code>lattice</code>, <code>mgcv</code>, <code>nlme</code>, <code>nnet</code>, <code>rpart</code>, <code>spatial</code>, and <code>survival</code>.</p>
</div>
<div id="other-packages" class="section level2" number="4.4">
<h2>
<span class="header-section-number">4.4</span> Other packages<a class="anchor" aria-label="anchor" href="#other-packages"><i class="fas fa-link"></i></a>
</h2>
<p>Any user could develop a package and make it available through any of the repositories. There are thousands of helpful R packages.</p>
</div>
<div id="installing-r-packages" class="section level2" number="4.5">
<h2>
<span class="header-section-number">4.5</span> Installing R Packages<a class="anchor" aria-label="anchor" href="#installing-r-packages"><i class="fas fa-link"></i></a>
</h2>
<p>There are numerous ways to install R Packages, which are listed below. You need an active internet connectivity for installing packages.</p>
<div id="from-cran" class="section level3" number="4.5.1">
<h3>
<span class="header-section-number">4.5.1</span> From CRAN<a class="anchor" aria-label="anchor" href="#from-cran"><i class="fas fa-link"></i></a>
</h3>
<p>Installing Packages From CRAN: For installing Package from <code>CRAN</code> we need the name of the package and use the following command:</p>
<div class="sourceCode" id="cb156"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"package name"</span><span class="op">)</span>  </span></code></pre></div>
<p>Simply express package name as a character vector in the first argument of the <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> function to install more than one package at once:</p>
<div class="sourceCode" id="cb157"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"grapesAgri1"</span>, <span class="st">"MASS"</span><span class="op">)</span><span class="op">)</span>  </span></code></pre></div>
</div>
<div id="from-bioconductor" class="section level3" number="4.5.2">
<h3>
<span class="header-section-number">4.5.2</span> From Bioconductor<a class="anchor" aria-label="anchor" href="#from-bioconductor"><i class="fas fa-link"></i></a>
</h3>
<p>In order to install a package in Bioconductor, run the following script first:</p>
<div class="sourceCode" id="cb158"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="st">"https://bioconductor.org/biocLite.R"</span><span class="op">)</span>  </span></code></pre></div>
<p>This will install some basic functions which are needed to install bioconductor packages, such as the <code>biocLite()</code> function. To install the core packages of Bioconductor just type it without further arguments.</p>
<div class="sourceCode" id="cb159"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">biocLite</span><span class="op">(</span><span class="op">)</span>  </span></code></pre></div>
<p>Type the names of the desired packages in a character vector format if we just need a few of them from this repository.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb160"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">biocLite</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"GenomicFeatures"</span>, <span class="st">"AnnotationDbi"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="from-github" class="section level3" number="4.5.3">
<h3>
<span class="header-section-number">4.5.3</span> From github<a class="anchor" aria-label="anchor" href="#from-github"><i class="fas fa-link"></i></a>
</h3>
<p>To install a R package from github, start by installing the devtools package. The best way to do this is from CRAN.</p>
<div class="sourceCode" id="cb161"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span>  </span></code></pre></div>
<p>Install the package of interest from GitHub using the following code, where you need to remember to list both the author and the name of the package. In this example, we are installing the <code>grapesAgri1</code> package created by <em>pratheesh3780</em>.</p>
<div class="sourceCode" id="cb162"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"pratheesh3780/grapesAgri1"</span><span class="op">)</span>  </span></code></pre></div>
</div>
</div>
<div id="load-packages" class="section level2" number="4.6">
<h2>
<span class="header-section-number">4.6</span> Load packages<a class="anchor" aria-label="anchor" href="#load-packages"><i class="fas fa-link"></i></a>
</h2>
<p>Once you successfully install an R package; you need to load the package for use in the session. <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> function can be used to load package.</p>
<p><strong>Example</strong></p>
<div class="sourceCode" id="cb163"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/pratheesh3780/grapesAgri1">grapesAgri1</a></span><span class="op">)</span></span></code></pre></div>
<div id="load-multiple-packages-at-once" class="section level3" number="4.6.1">
<h3>
<span class="header-section-number">4.6.1</span> Load Multiple Packages at Once<a class="anchor" aria-label="anchor" href="#load-multiple-packages-at-once"><i class="fas fa-link"></i></a>
</h3>
<p>We need to first specify a vector of package names:</p>
<div class="sourceCode" id="cb164"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_packages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"dplyr"</span>, <span class="st">"mice"</span>, <span class="st">"stringr"</span><span class="op">)</span> <span class="co"># vector of package names </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">my_packages</span>, <span class="va">require</span>, character.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>    <span class="co"># Load multiple packages  </span></span></code></pre></div>
<p>After running the previous R code, all packages in the vector my_packages are loaded to R.</p>
</div>
</div>
<div id="check-update-and-remove" class="section level2" number="4.7">
<h2>
<span class="header-section-number">4.7</span> Check, Update and Remove<a class="anchor" aria-label="anchor" href="#check-update-and-remove"><i class="fas fa-link"></i></a>
</h2>
<p>To check what packages are installed on your computer, type this command:</p>
<div class="sourceCode" id="cb165"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html">installed.packages</a></span><span class="op">(</span><span class="op">)</span>  </span></code></pre></div>
<p>To update all the packages, type this command:</p>
<div class="sourceCode" id="cb166"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/update.packages.html">update.packages</a></span><span class="op">(</span><span class="op">)</span>  </span></code></pre></div>
<p>To update a specific package, type this command:<code>install.packages("package name")</code></p>
<div class="sourceCode" id="cb167"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"grapesAgri1"</span><span class="op">)</span>  </span></code></pre></div>
</div>
<div id="installation-using-r-studio-ui" class="section level2" number="4.8">
<h2>
<span class="header-section-number">4.8</span> Installation using R studio UI<a class="anchor" aria-label="anchor" href="#installation-using-r-studio-ui"><i class="fas fa-link"></i></a>
</h2>
<p>The packages can be installed using Rstudio User interface. Step by step installation of package <code>grapesAgri1</code> is shown below. All other packages can be installed in similar way</p>
<ul>
<li>
<strong>Step 1</strong>: Click on the install button as shown below</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:1"></span>
<img src="images/packages/1.png" alt="Step 1" width="80%"><p class="caption">
Figure 4.1: Step 1
</p>
</div>
<ul>
<li>
<strong>Step 2</strong>: Type the name of the package in the window that appears</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:2"></span>
<img src="images/packages/2.png" alt="Step 2" width="80%"><p class="caption">
Figure 4.2: Step 2
</p>
</div>
<ul>
<li>
<strong>Step 3</strong>: Select the package name and click install</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:3"></span>
<img src="images/packages/3.png" alt="Step 3" width="80%"><p class="caption">
Figure 4.3: Step 3
</p>
</div>
<ul>
<li>
<strong>Step 4</strong>: Load the package name by clicking on the check box.</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:4"></span>
<img src="images/packages/4.png" alt="Step 4" width="80%"><p class="caption">
Figure 4.4: Step 4
</p>
</div>
<!-- ```{block2 item5, type='rmdnote'} -->
<!-- **Self Evaluation**   -->
<!-- 1. Install package `grapesAgri1` by yourself.   -->
<!-- ``` -->

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="rbase.html"><span class="header-section-number">3</span> R basics</a></div>
<div class="next"><a href="import.html"><span class="header-section-number">5</span> Importing data files</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#packages-and-libraries"><span class="header-section-number">4</span> Packages and libraries</a></li>
<li><a class="nav-link" href="#packages"><span class="header-section-number">4.1</span> Packages</a></li>
<li>
<a class="nav-link" href="#repositories"><span class="header-section-number">4.2</span> Repositories</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#cran"><span class="header-section-number">4.2.1</span> CRAN</a></li>
<li><a class="nav-link" href="#bioconductor"><span class="header-section-number">4.2.2</span> Bioconductor</a></li>
<li><a class="nav-link" href="#github"><span class="header-section-number">4.2.3</span> Github</a></li>
</ul>
</li>
<li><a class="nav-link" href="#base-packages"><span class="header-section-number">4.3</span> Base packages</a></li>
<li><a class="nav-link" href="#other-packages"><span class="header-section-number">4.4</span> Other packages</a></li>
<li>
<a class="nav-link" href="#installing-r-packages"><span class="header-section-number">4.5</span> Installing R Packages</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#from-cran"><span class="header-section-number">4.5.1</span> From CRAN</a></li>
<li><a class="nav-link" href="#from-bioconductor"><span class="header-section-number">4.5.2</span> From Bioconductor</a></li>
<li><a class="nav-link" href="#from-github"><span class="header-section-number">4.5.3</span> From github</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#load-packages"><span class="header-section-number">4.6</span> Load packages</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#load-multiple-packages-at-once"><span class="header-section-number">4.6.1</span> Load Multiple Packages at Once</a></li></ul>
</li>
<li><a class="nav-link" href="#check-update-and-remove"><span class="header-section-number">4.7</span> Check, Update and Remove</a></li>
<li><a class="nav-link" href="#installation-using-r-studio-ui"><span class="header-section-number">4.8</span> Installation using R studio UI</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>DATA ANALYSIS USING STATISTICAL PACKAGES</strong>" was written by Dr. Pratheesh P. Gopinath. It was last built on 2022-01-30.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
